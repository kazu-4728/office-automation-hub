# アーキテクチャ設計

## 全体構成

```
ez-manual-simplifier/
├── modules/                    # 独立した機能モジュール
│   ├── 00-cost-estimator/     # コスト管理
│   ├── 01-input/              # 入力処理
│   ├── 02-converter/          # 変換処理
│   ├── 03-output/             # 出力処理
│   └── 04-storage/            # ストレージ
├── templates/                 # HTMLテンプレート
├── docs/                     # ドキュメント
└── output/                   # 生成結果
```

## モジュール設計原則

### 独立性
- 各モジュールは独立して動作
- 1つが壊れても他に影響しない
- 個別にテスト・デバッグ可能

### 再利用性
- レゴブロックのように組み合わせ可能
- 他のプロジェクトに移植しやすい
- テンプレート化で一貫性確保

### 拡張性
- 新しい入力形式を簡単に追加
- 新しい出力形式を簡単に追加
- 機能追加時の影響範囲を最小化

## データフロー

```
URL入力
  ↓
[01-input] スクレイピング・解析
  ↓
[02-converter] Claude変換（メイン）
  ↓
[03-output] テンプレート適用
  ↓
[04-storage] ファイル生成・キャッシュ
  ↓
完成したHTMLサイト
```

## エラーハンドリング

### 局所化
- エラーは発生したモジュール内で処理
- 他のモジュールへの影響を最小化
- 詳細なエラーログを記録

### フォールバック
- 主要機能が失敗した場合の代替手段
- 部分的な結果でも出力可能
- ユーザーに状況を明確に報告