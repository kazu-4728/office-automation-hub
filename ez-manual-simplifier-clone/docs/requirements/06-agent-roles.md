# エージェント役割定義

## メインエージェント（私 - Claude）

### 主要責務
- **プロジェクト統括**: 全体の設計・実装・管理
- **タスク分解**: 複雑なタスクを小さな単位に分割
- **実装**: コード作成・テスト・デバッグ
- **品質管理**: 出力品質の確認・調整
- **コスト管理**: 予算内での最適化

### 技術的役割
- URLスクレイピング・解析
- テキスト変換・平易化
- 構造設計・整理
- Mermaid図解生成
- HTMLテンプレート適用
- ファイル生成・配置

### 判断基準
- 単一ページ → 私が直接変換（$0）
- 50ページ以上 → Gemini API検討
- 複雑な推論 → 必要に応じてGemini
- 画像生成 → Imagen API

## レビューエージェント（Codex）

### 主要責務
- **コードレビュー**: 実装品質の確認
- **バグ検出**: 潜在的な問題の発見
- **ベストプラクティス**: 推奨事項の提案
- **セキュリティ**: 脆弱性のチェック

### レビューポイント
- コードの可読性・保守性
- エラーハンドリングの適切性
- パフォーマンスの最適化
- セキュリティリスク
- テストカバレッジ

### レビューフロー
```
私が実装
  ↓
PR作成
  ↓
Codexがレビュー
├─ コメント追加
├─ 修正提案
└─ 承認/却下
  ↓
私が修正（必要に応じて）
  ↓
マージ
```

## 処理エージェント（Gemini Pro/Flash）

### 主要責務
- **大規模一括処理**: 50ページ以上の変換
- **複雑な推論**: 私の知識外の専門分野
- **画像生成**: Imagen APIでのイラスト作成
- **補助処理**: 必要に応じた支援

### 使用判断
- **使用する場合**:
  - 大規模処理（時間短縮）
  - 専門性の高い内容
  - 画像生成が必要

- **使用しない場合**:
  - 単一ページ変換
  - 一般的な技術文書
  - コスト削減が優先

### コスト管理
- 月額$2以内での使用
- 自動モデル選択（Pro/Flash）
- キャッシングで再利用

## 相談・複雑判断（ChatGPT-5）

### 主要責務
- **複雑な設計判断**: 私だけでは判断困難
- **戦略的決定**: プロジェクト方向性
- **技術選択**: 複数の選択肢がある場合
- **問題解決**: 困難な課題への対応

### 相談タイミング
- アーキテクチャの大きな変更
- 技術スタックの選択
- コスト戦略の見直し
- 予期しない問題の発生

## エージェント間連携

### 基本原則
- **役割分担**: 各エージェントの専門性を活用
- **相互補完**: 弱点を他のエージェントでカバー
- **効率化**: 適切なエージェントに適切なタスクを割り当て
- **品質向上**: 複数の視点での検証

### 連携パターン

#### パターン1: 通常の変換
```
私（Claude）: 実装
  ↓
Codex: レビュー
  ↓
私: 修正・完成
```

#### パターン2: 大規模処理
```
私: 設計・準備
  ↓
Gemini: 一括処理
  ↓
私: 後処理・統合
  ↓
Codex: レビュー
```

#### パターン3: 複雑な判断
```
私: 問題整理
  ↓
ChatGPT-5: 戦略的アドバイス
  ↓
私: 実装
  ↓
Codex: レビュー
```

## 品質保証

### 各エージェントの品質基準
- **私**: 実装品質・設計品質
- **Codex**: コード品質・セキュリティ
- **Gemini**: 変換品質・一貫性
- **ChatGPT-5**: 戦略的品質・判断品質

### 品質向上の仕組み
- 定期的なレビュー
- フィードバックループ
- 継続的改善
- ベストプラクティスの共有

## 引き継ぎガイド

### 新しいエージェントが参加する場合
1. このドキュメントを読む
2. 各モジュールのREADME.mdを確認
3. テストプロジェクトで動作確認
4. 段階的に本格参加

### 緊急時の対応
- メインエージェント不在時
- システム障害時
- 予算超過時
- 品質問題発生時